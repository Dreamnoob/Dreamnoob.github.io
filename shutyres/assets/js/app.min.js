"use strict";document.addEventListener("DOMContentLoaded",()=>{function e(){const a=document.querySelectorAll(".card__item");for(let e=0;e<a.length;e++)!function(s){const e=a[s].querySelectorAll(".card__tab");e.forEach((e,c)=>{e.addEventListener("click",e=>{const t=e.target;t&&t.classList.contains("card__tab")&&(function(e){const t=a[e].querySelectorAll(".card__tab-content"),c=a[e].querySelectorAll(".card__tab");t.forEach((e,t)=>{e.classList.remove("show"),c[t].classList.remove("active")})}(s),function(e,t){const c=a[e].querySelectorAll(".card__tab-content"),s=a[e].querySelectorAll(".card__tab");c[t].classList.add("show"),s[t].classList.add("active")}(s,c))})})}(e)}!function(){const c=document.querySelectorAll(".filter__form-label--width"),s=document.querySelectorAll(".filter__form-label--height"),a=document.querySelectorAll(".filter__form-label--diameter"),r=document.querySelectorAll(".filter__form-label--brand"),n=document.querySelector(".filter__btn-width"),l=document.querySelector(".filter__btn-height"),o=document.querySelector(".filter__btn-diameter"),i=document.querySelector(".filter__btn-brand"),e=document.querySelector(".filter__btn"),d=document.querySelector(".filter__box"),_=document.querySelector(".filter__btn"),u=document.querySelector(".reviews__form"),v=document.querySelector(".reviews__btn");function t(t,c){for(let e=0;e<t.length;e++)e>=c&&t[e].classList.remove("switch")}function m(t,c){for(let e=0;e<t.length;e++)e>=c&&(t[e].classList.add("hide"),t[e].style.maxHeight="0")}function b(t,c){for(let e=0;e<t.length;e++)e>=c&&(t[e].classList.remove("hide"),t[e].style.maxHeight=t[e].scrollHeight+"px")}function h(){d.style.maxHeight="",setTimeout(function(){d.style.maxHeight=d.scrollHeight+"px"},300)}function f(e){e.style.maxHeight="0"}function g(e){e.style.maxHeight=e.scrollHeight+"px"}document.addEventListener("click",e=>{const t=e.target;t.classList.contains("filter__btn-width")&&(e.preventDefault(),n.classList.toggle("active"),(n.classList.contains("active")?b:m)(c,6),h()),t.classList.contains("filter__btn-height")&&(e.preventDefault(),l.classList.toggle("active"),(l.classList.contains("active")?b:m)(s,6),h()),t.classList.contains("filter__btn-diameter")&&(e.preventDefault(),o.classList.toggle("active"),(o.classList.contains("active")?b:m)(a,6),h()),t.classList.contains("filter__btn-brand")&&(e.preventDefault(),i.classList.toggle("active"),(i.classList.contains("active")?b:m)(r,4),h()),t.classList.contains("filter__btn")&&(e.preventDefault(),_.classList.toggle("active"),(_.classList.contains("active")?g:f)(d)),t.classList.contains("reviews__btn")&&(e.preventDefault(),v.classList.toggle("active"),(v.classList.contains("active")?g:f)(u))});try{setTimeout(()=>{t(c,6),t(s,6),t(a,6),t(r,4)},500),m(c,6),m(s,6),m(a,6),m(r,4),d.style.maxHeight=d.scrollHeight+"px",window.addEventListener("resize",()=>{e.classList.contains("active")&&g(d)})}catch(e){}}();try{e()}catch(e){}try{!function(){const e=document.querySelectorAll(".card__item");e.forEach(t=>{t.addEventListener("click",e=>{e=e.target;e&&"use"==e.tagName&&t.querySelector(".card__wish-icon").classList.toggle("active")})})}()}catch(e){}try{!function(){const e=document.querySelector(".product__btn-postpone");e.addEventListener("click",()=>{e.classList.toggle("active")})}()}catch(e){}function t(){const e=document.querySelector(".product__tabs"),s=document.querySelectorAll(".product__tab"),a=document.querySelectorAll(".product__tab-content");e.addEventListener("click",e=>{const c=e.target;c&&c.classList.contains("product__tab")&&s.forEach((e,t)=>{c==e&&(s.forEach((e,t)=>{e.classList.remove("active"),a[t].classList.remove("show")}),t=t,s[t].classList.add("active"),a[t].classList.add("show"))})})}try{t()}catch(e){}const s=document.querySelectorAll(".rating");function c(){let t,c;s.forEach(e=>{(function(e){t=e.querySelector(".rating__active"),c=e.querySelector(".rating__value")})(e),function(e=c.innerHTML){e/=.05;t.style.width=`${e}%`}()})}try{c()}catch(e){}try{!function(){const e=document.querySelectorAll(".rating-touch__item");e.forEach(e=>{e.addEventListener("click",()=>{e.parentNode.dataset.totalValue=e.dataset.ratingValue})})}()}catch(e){}function a(){const s=document.querySelectorAll(".show-more__content"),e=document.querySelectorAll(".show-more__content_btn"),a=document.querySelectorAll(".card__list"),r=document.querySelectorAll(".article__item");e.forEach((e,c)=>{e.addEventListener("click",e=>{const t=e.target;t&&t.classList.contains("show-more__content_btn--cards")&&(function(e){const t=a[e].querySelectorAll(".card__item");t.forEach(e=>{e.classList.remove("hide")}),s[e].classList.add("hide")}(c),console.log(c)),t&&t.classList.contains("show-more__content_btn--articles")&&function(e){for(let e=0;e<r.length;e++)r[e].classList.remove("hide");s[e].classList.add("hide")}(c)})}),function(){for(let e=0;e<a.length;e++){const t=a[e].querySelectorAll(".card__item");for(let e=0;e<t.length;e++)8<=e&&t[e].classList.add("hide")}}(),function(){for(let e=0;e<r.length;e++)3<=e&&r[e].classList.add("hide")}()}try{a()}catch(e){}try{!function(){const e=document.querySelector(".tabs"),t=document.querySelectorAll(".tab__item"),c=document.querySelectorAll(".tabs__content-item");function s(){t.forEach((e,t)=>{e.classList.remove("active"),c[t].classList.add("hide"),c[t].classList.remove("tabs__anim")})}function a(e=0){t[e].classList.add("active"),c[e].classList.remove("hide"),c[e].classList.add("tabs__anim")}e.addEventListener("click",e=>{const c=e.target;c&&c.classList.contains("tab__item")&&t.forEach((e,t)=>{e==c&&(s(),a(t))})}),s(),a()}()}catch(e){}function r(){const e=document.querySelector(".catalog__btns-sort"),c=document.querySelectorAll(".catalog__btn-sort");e.addEventListener("click",e=>{const t=e.target;t&&t.classList.contains("catalog__btn-sort")&&(c.forEach(e=>{e.classList.remove("active")}),console.log(t),t.classList.add("active"))})}try{r()}catch(e){}try{!function(){const c=document.querySelector(".select"),e=document.querySelectorAll(".select__label"),s=document.querySelector(".select__title");c.addEventListener("click",()=>{c.classList.toggle("active")}),e.forEach(e=>{e.addEventListener("click",e=>{const t=e.target;t&&t.classList.contains("select__value")&&(s.textContent=t.textContent,c.classList.remove("active"))})})}()}catch(e){}try{!function(){const e=document.querySelector(".header__nav"),t=document.querySelector(".header__mobile-btn_open"),c=document.querySelector(".header__mobile-btn_close");t.addEventListener("click",()=>{e.classList.add("active")}),c.addEventListener("click",()=>{e.classList.remove("active")})}()}catch(e){}!function(){const e=document.querySelectorAll(".card_btn"),b=document.querySelector(".header__basket-value"),h=e=>String(e).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ");function n(e,t){localStorage.setItem(e,JSON.stringify(t))}function a(){const t=document.querySelector(".basket__shop-wrapper"),e=document.querySelector(".basket__total-value_sum"),c=document.querySelector(".basket__right-title"),s=document.querySelector(".basket__right-title_value"),a=document.querySelector(".basket__shop");var r,n,l,o,i,d=localStorage.length;let _=0;if(0!==d){b.innerText=d,s.innerText=d,a.classList.add("active"),t.innerHTML="";for(let e=0;e<d;e++){var u=localStorage.key(e),v=JSON.parse(localStorage.getItem(u)),m=v[4]*v[6];t.insertAdjacentHTML("afterbegin",(r=v[0],n=v[1],l=v[2],o=v[3],i=h(m),u=v[5],v=v[6],`
            <div class="basket__card" data-id="${u}">
                <button class="basket__card-btn"></button>
                <div class="basket__card-top">
                    <img class="basket__card-img" src="${r}" alt="">
                    <div class="basket__card-top_descr">
                        <p class="basket__card-brand">${n}</p>
                        <p class="basket__card-article">${l}</p>
                        <p class="basket__card-info">${o}</p>
                    </div>
                </div>
                <div class="basket__card-bottom">
                    <div class="basket__card-descr">
                        <div class="basket__card-box_value">
                            <h4 class="basket__card-name">кол-во:</h4>
                            <div class="basket__btns-box">
                                <button class="basket__minus-btn">-</button>
                                <div class="basket__card-value">${v}</div>
                                <button class="basket__plus-btn">+</button>
                            </div>
                        </div>
                        <div class="basket__card-box_price">
                            <h4 class="basket__card-name">цена:</h4>
                            <div class="basket__card-price">
                                <span class="basket__card-price_value">${i}</span>
                                тенге
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            `)),_+=Number(m)}e.innerText=h(_)}else a.classList.remove("active"),c.innerText="Корзина пустая!",b.innerText=""}e.forEach(e=>{e.addEventListener("click",e=>{let t=e.target,c=t.closest(".card__item"),s=c.querySelector(".card__tab, .one"),a;a=s.classList.contains("active")?"1":"4";var r=c.dataset.id;if(null==localStorage.getItem(r)){n(r,[c.querySelector(".card__img").getAttribute("src"),c.querySelector(".card__brand").textContent,c.querySelector(".card__model").textContent,c.querySelector(".card__article").textContent,c.querySelector(".card__price-value").textContent.replace(/\s/g,""),r,a]);e=localStorage.length;b.innerText=0==e?"":e}else{let e=JSON.parse(localStorage.getItem(r));e[6]=String(Number(e[6])+1),n(r,e)}})});try{a(),function(){const e=document.querySelector(".basket__shop-wrapper");e.addEventListener("click",t=>{const c=t.target;if(c.classList.contains("basket__card-btn")){let e=c.closest(".basket__card");t=e.dataset.id;localStorage.removeItem(t),e.remove(),a()}if(c.classList.contains("basket__plus-btn")){var s=c.closest(".basket__card").dataset.id;let e=JSON.parse(localStorage.getItem(s));e[6]=String(Number(e[6])+1),n(s,e),a()}if(c.classList.contains("basket__minus-btn")){let e=c.closest(".basket__card");s=e.dataset.id;let t=JSON.parse(localStorage.getItem(s));t[6]=String(Number(t[6])-1),0==t[6]?(localStorage.removeItem(s),e.remove()):n(s,t),a()}})}()}catch(e){}}();const n=document.querySelector(".modal"),l=document.querySelector(".modal__btn"),o=document.querySelector(".footer__form");o.addEventListener("submit",e=>{e.preventDefault(),n.classList.add("show"),document.body.style.overflow="hidden"}),l.addEventListener("click",function(){n.classList.remove("show"),document.body.style.overflow=""}),n.addEventListener("click",e=>{e.target.classList.contains("modal")&&(n.classList.remove("show"),document.body.style.overflow="")});try{[].forEach.call(document.querySelectorAll(".footer__input"),function(e){var n;function t(e){e.keyCode&&(n=e.keyCode),this.selectionStart<3&&e.preventDefault();var t="+7 (___) ___ ____",c=0,s=t.replace(/\D/g,""),a=this.value.replace(/\D/g,""),r=t.replace(/[_\d]/g,function(e){return c<a.length?a.charAt(c++)||s.charAt(c):e});-1!=(c=r.indexOf("_"))&&(c<5&&(c=3),r=r.slice(0,c));t=t.substr(0,this.value.length).replace(/_+/g,function(e){return"\\d{1,"+e.length+"}"}).replace(/[+()]/g,"\\$&");(!(t=new RegExp("^"+t+"$")).test(this.value)||this.value.length<5||47<n&&n<58)&&(this.value=r),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",t,!1),e.addEventListener("focus",t,!1),e.addEventListener("blur",t,!1),e.addEventListener("keydown",t,!1)})}catch(e){}new Swiper(".partners__slider",{slidesPerView:5,slidesPerGroup:1,loop:!0,navigation:{nextEl:".partners__btn--next",prevEl:".partners__btn--prev"},breakpoints:{320:{slidesPerView:1},535:{slidesPerView:2,spaceBetween:20},700:{slidesPerView:3},1024:{slidesPerView:5,spaceBetween:30}}}),new Swiper(".product__slider",{slidesPerView:1,slidesPerGroup:1,navigation:{nextEl:".product__btn--next",prevEl:".product__btn--prev"}})});